# IMAUS
This project is for the project: Promoting social influence of uncertain seeds via link insertion.

The code is developed on the basis of SUBSIM. 


## Compile

```shell
make
```

The option -std=c++1x should be included.

## Options

- **-func**=string 

  Specify the function to execute. Possible values are in the following:

  - **format**: format the graph
  - **SANDWICH**: JB-PIUS algorithm

- **-gname**=string

  Specify the name of the input graph. 

- **-dir**=string

  Specify the directory of the input graphs. The default directory is  **graphInfo** in the current directory.

- **-outpath**=string

  Specify the directory for saving the output. The default directory is **result** in the working directory

**The following options are used with -func=format.**

- **-pdist**=string

  Specify the probability distribution. 

  - **wc** [default]: WC setting (default). The weight of the edge (u, v) is set to p(u, v) = 1/indeg(v).
  - **uniform**: Uniform setting. All the edges are assigned a given weight specified by **-pedge**=float.
  - **skewed**:  Skewed distribution. The weights follow a skewed distribution.

- **-wcvariant**=float

  Specify the weight sum in the wc variant setting. For example, if **-wcvariant**=1.2, it means the weight of the edge (u, v) is set as min{1, 1.2/indegree(v)}.  This option works for **-pdist=wc** only. 

- **-pedge**=float

  Specify the probability for all the edges in the uniform setting. The default value is **0.1**. This option works for **-pdist=uniform** only.

- **-skew**=string

  Specify which skewed distribution is used. This option works for **-pdist=skewed** only.

  -  **exp**[default]: Exponential distribution.
  - **weibull**: Weibull distribution.

**The following options are used with -func=im.**

- **-seedsize**=integer

  Specify the size of the seed set. The default value is **50**.

- **-eps**=float

  Specify the error threshold such that the bounding functions return **(1-1/e-eps)**-approximate solution. The default value is 0.1.

- **-delta**=float

  Specify the failure probability. It means that the returned solution is valid with at least **1 - delta** probability. The default value is 1/n.

- **-vanilla**=integer

  Specify the RR set generation method. 

  - **0** [default]: the RR set is generated by the IMAUS method.
  - **1**: the RR set is generated by the vanilla version. 
  

## Format the graph

**Before running algorithms, please format the graph first.**

Examples:

```shell
//the wc setting and wc variant setting
$ ./IMAUS -func=format -gname=facebook -pdist=wc
$ ./IMAUS -func=format -gname=facebook -pdist=wc -wcvariant=1.2

//the uniform setting
$ ./IMAUS -func=format -gname=facebook -pdist=uniform -pedge=0.01

```

## Algorithm

Examples:

```shell
//use the IMAUS method to sample RR sets
./IMAUS -func=SANDWICH -gname=facebook -edgesize=100 -eps=0.1 -rand_seed=0 -seed_dist=uniRAND
```

## Example for IMAUS
```shell
cd ./scripts/
./test_scr.sh
```